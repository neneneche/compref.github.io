<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>信息面板</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <img id="logo" src="logo.png" alt="Logo" href="index.html">
    <nav>
        <a href="englisch.html">信息</a>
        <a href="links.html">链接</a>
        <select class="language-select" onchange="location = this.value;">
            <option value="language.html">语言</option>
            <option value="index.html">Deutsch</option>
			<option value="englisch.html">English</option>
            <option value="russisch.html">Русский</option>
            <option value="ukrainisch.html">Українська</option>
            <option value="tadschikisch.html">Тоҷикӣ</option>
            <option value="albanisch.html">Shqiptare</option>
            <option value="serbisch.html">Српски</option>
			<option value="arabisch.html">عربي</option>
        </select>
    </nav>
</header>

<main>
    <h1>Brigittenau 校园的互联网</h1>

<div id="outerContentBox">
        <div id="contentBox" class="timetable">
            <div id="content">加载中...</div>
            <button id="refreshButton">&#8595;&#8593;</button> <!-- 反向箭头 -->
            <div id="overlay">最后更新: ...</div>
        </div>
    </div>

    <script>
        const gistId = '182bca0e9cba50884ba75b42dee0699b'; 
        const url = `https://api.github.com/gists/${gistId}`;

        fetch(url)
            .then(response => {
                if (!response.ok) {
                    throw new Error('网络响应不正常 ' + response.statusText);
                }
                return response.json();
            })
            .then(data => {
                const fileName = Object.keys(data.files)[0];
                const content = data.files[fileName].content;
                document.getElementById('content').innerText = content;

                // 设置最后更新时间
                const updatedAt = new Date(data.updated_at).toLocaleString();
                document.getElementById('overlay').innerText = `最后更新: ${updatedAt}`;
            })
            .catch(error => console.error('错误:', error));
    </script>

<h2>1. 技术要求</h2>
<ul>
    <li>要将设备直接连接到墙上的正确网络端口，设备需要有以太网端口。如果需要，网络电缆可以在compref购买（长度5米，价格4€）</li>
    <li>没有以太网端口的设备需要一个USB转LAN适配器才能有线连接。适配器可以在compref购买（如果有的话），价格为6€。</li>
    <li>除了在大堂的pano区域外，宿舍内没有公共Wi-Fi。如果你想在房间内使用Wi-Fi，你需要购买一个路由器。如果有的话，它可以在compref购买，价格为20€</li>
	<li>记住：<b style="color: orange;">有线</b>连接是<b style="color: orange;">更快</b>和更<b style="color: orange;">稳定</b>的。</li>
</ul>

<h2>2. 注册过程</h2>
<ul>
    <li>为了注册您的设备（笔记本、台式机、路由器、Xbox、PS等），您需要在办公时间内联系compref。</li>
    <h3 style="text-align: center; text-decoration: underline; color: red;">注意！</h3>
    <li>DSL调制解调器可能<b style="color: orange;">无法</b>使用！带有一个网络端口的接入点（背面）可以注册，但我们需要注册<b style="color: orange;">所有</b>您的设备。</li>
</ul>

<h2>3. 注册后</h2>
<ul>
    <li>如果您直接连接到墙壁插座，请设置设备自动获取IP地址（DHCP - 通常这是默认设置）。</li>
	<li>请将您的DNS设置保持为默认设置。自定义DNS设置<b style="color: orange">将不起作用</b>！</li>
    <li>如果您的计算机感染病毒，您可能会被网络封锁。在这种情况下，请联系compref。</li>
    <li>我们对上传流量有40GB/24小时和80GB/72小时的限制。在<b style="color: orange;">双人房</b>中，此限制是与您的室友<b style="color: orange;">共享</b>的！！</li>
    <li>为了防止过度流量，您需要关闭自动备份功能。此外，过度流量可能由以下活动引起：在Twitch/Discord上直播，观看非法直播，使用torrent。如果超过限制，您的互联网将被封锁72小时！您可以在<a href="http://www.panorama.sth.ac.at/">http://www.panorama.sth.ac.at/</a>查看您的上传量。</li>
    <li><b class="warning-text">COMPREF <span style="color: red;">无法</span>在过度流量的情况下为您解锁网络！！！</b></li>
</ul>

<h3 style="text-align: center; text-decoration: underline; color: red;">如何连接路由器</h3>
<ul>
    <li>在您的房间中，请将<b style="color: orange;">电源</b>和<b style="color: orange;">网络电缆</b>都插入路由器的后面。网络电缆应插入路由器的<b style="color:#0088FF;">蓝色</b>端口。</li>
    <li>将路由器的电源适配器插入电源插座。网络电缆应插入墙上的两个网络端口之一。<b style="color: orange">只有一个端口是工作的！</b>正确的端口<b style="color: orange;">应</b>标记您的房间号。如果没有标签，很可能是左侧端口。</li>
    <li>如果连接正确，路由器前面板上的LED应为绿色，<b style="color: orange">不是</b>橙色或红色。</li>
    <li>您可以在路由器底部找到您的Wi-Fi名称和密码。</li>
	<li><b style="color: orange">请</b>不要重置路由器或更改任何设置。<b style="color: orange">您的网络不会变得更快！</b>
</ul>

<h2>4. 付款</h2>
<ul>
    <li>每月维护费：5€</li>
    <li>付款方式<b style="color: orange;">仅接受现金</b>，并在我们的办公室进行（您可以提前为几个月付款，建议这样做 =))</li>
    <li>每月5号到期，时间为
	<span class="time-item">
        <span class="time" data-12h="12:00 PM">12:00 PM</span> 
        （如果未提前付款）。 
        <button class="normal-time" onclick="toggleTimeFormat(this)">Normal Time</button>
    </span>
	</li>
	<li><b style="color:orange">对于新来的：</b> 从您注册当天到下一个<b style="color:orange">5号</b>，互联网是免费的。</li>
</ul>

<h2>5. 联系方式</h2>
<ul>
    <li>电子邮件：<a href="mailto:compref@panorama.sth.ac.at">compref@panorama.sth.ac.at</a></li>
    <li>办公时间：定期在我们的门口、WhatsApp小组（链接可以在这里和门口找到）以及本网站上公布。</li>
</ul>

<h2>6. 沟通</h2>
<ul>
    <li>WhatsApp小组是由学生为学生创建的。<br />
        请加入我们，以便交流信息、购买物品、分享控制器的位置以及参与其他活动 =) </li>
  <li>聊天</li>
    <button id="showQRCodeBtn">点击查看二维码</button>
    <div id="qrPopup" class="popup">
        <img src="qrlink.png" alt="二维码" />
    </div>

    <a href="https://chat.whatsapp.com/H9IFtAalJeqHDng3MTJMV4" target="_blank">
        <button style="background-color: #8b0000; color: #fff;">点击链接</button>
    </a>
</ul>
<ul>
<li>公告</li>
    <button id="showQRCodeBtn2">点击查看二维码</button>
    <div id="qrPopup2" class="popup2">
        <img src="annqr.png" alt="二维码2" />
    </div>

    <a href="https://chat.whatsapp.com/IXqQtw8pGz680E8v2oI2cn" target="_blank">
        <button style="background-color: #8b0000; color: #fff;">点击链接</button>
    </a>
</ul>


<!-- qr code js -->

<script>
    document.getElementById("showQRCodeBtn").addEventListener("click", function(event) {
        event.stopPropagation(); 
        document.getElementById("qrPopup").style.display = "block"; 
    });

   
    document.addEventListener("click", function() {
        document.getElementById("qrPopup").style.display = "none"; 
    });

    
    document.getElementById("qrPopup").addEventListener("click", function(event) {
        event.stopPropagation(); 
    });
</script>

<script>
	document.getElementById("showQRCodeBtn2").addEventListener("click", function(event) {
    event.stopPropagation(); // Остановить событие клика от всплытия
    document.getElementById("qrPopup2").style.display = "block"; // Показать QR код
});

// Закрытие попапа при клике вне его
document.addEventListener("click", function() {
    document.getElementById("qrPopup2").style.display = "none"; // Скрыть QR код
});

// Закрытие попапа при клике на изображение (если нужно)
document.getElementById("qrPopup2").addEventListener("click", function(event) {
    event.stopPropagation(); // Остановить событие клика от всплытия
});
</script>

<!-- freedom time js -->
<script>
    function toggleTimeFormat(button) {
        const timeElement = button.previousElementSibling;
        const currentTime = timeElement.textContent.trim();
        
        if (button.textContent === "Normal Time") {
            // Switch to 24-hour format (simply strip AM/PM)
            const time12 = timeElement.getAttribute('data-12h');
            const time24 = convertTo24Hour(time12);
            timeElement.textContent = time24;
            button.textContent = "Freedom Time";  // Change button text to "Freedom Time"
            button.classList.remove("normal-time");
            button.classList.add("freedom-time");  // Change button style (American flag)
        } else {
            // Switch back to 12-hour format (add AM/PM)
            const time24 = timeElement.textContent.trim();
            const time12 = convertTo12Hour(time24);
            timeElement.textContent = time12;
            button.textContent = "Normal Time";  // Change button text to "Normal Time"
            button.classList.remove("freedom-time");
            button.classList.add("normal-time");  // Reset button style to default
        }
    }

    function convertTo24Hour(time12) {
        const [time, period] = time12.split(" ");
        let [hours, minutes] = time.split(":").map(Number);

        if (period === "PM" && hours !== 12) {
            hours += 12;
        } else if (period === "AM" && hours === 12) {
            hours = 0;  // Midnight case
        }

        return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;
    }

    function convertTo12Hour(time24) {
        let [hours, minutes] = time24.split(":").map(Number);
        const period = hours >= 12 ? "PM" : "AM";

        if (hours > 12) hours -= 12;  // Convert 24-hour time to 12-hour
        if (hours === 0) hours = 12;  // Midnight case

        return `${hours}:${String(minutes).padStart(2, '0')} ${period}`;
    }
</script>


</main>

<footer style="display: flex; justify-content: space-between; align-items: center; padding: 7px;">
    <p style="margin: 0;"><a href="http://www.campusbrigittenau.at">www.campusbrigittenau.at</a></p>
	<div style="margin: 0;" class="mw0">credits <div class="popup9">Special thanks to ___ for the translation fix.</div></div>
    <p class="mwl" style="margin: 0;">With ♡ by <a href="https://www.instagram.com/hassrede88" target="_blank" style="text-decoration: none;">digga8</a></p>
</footer>

</body>
</html>
